<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <title>Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ÙØ±Ø² Ø§Ù„Ø·Ø¨ÙŠ</title>
    <style>
        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(to bottom, #e3f2fd, #90caf9);
            margin: 0;
            padding: 0;
            color: #2c3e50;
            direction: rtl;
        }
        .container {
            max-width: 800px;
            margin: 20px auto;
            background: #ffffff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        .logo {
            display: block;
            margin: 20px auto;
            max-width: 150px;
            height: auto;
        }
        h1 {
            text-align: center;
            color: #2c3e50;
        }
        label {
            display: block;
            margin-top: 15px;
            font-weight: bold;
            color: #34495e;
        }
        input, textarea, select, button {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
            border: 1px solid #dcdcdc;
            border-radius: 5px;
            font-size: 14px;
        }
        input[type="radio"] {
            width: auto;
            margin-right: 10px;
        }
        button {
            background-color: #3498db;
            color: white;
            font-weight: bold;
            border: none;
            cursor: pointer;
            padding: 12px;
            margin-top: 10px;
        }
        button:hover {
            background-color: #2980b9;
        }
        .hidden {
            display: none;
        }
        .question-group {
            display: flex;
            align-items: center;
            margin-top: 15px;
        }
        .question-group label {
            margin-left: 20px;
            flex: 1;
        }
.action-buttons {
    display: flex;
    justify-content: space-between;
    margin-top: 10px;
}
       .action-buttons button {
    flex: 1;
    margin: 0 5px;
}
.question-group {
    margin-top: 15px;
}

.question-group label {
    display: block;
    font-size: 14px;
    margin-bottom: 5px;
    color: #34495e;
}

.question-group input[type="radio"] {
    display: inline-block;
    margin-right: 5px;
}

.question-group label[for] {
    display: inline-block;
    margin-right: 10px;
    font-size: 14px;
    color: #34495e;
}

textarea {
    display: block;
    margin-top: 5px;
}
@media (max-width: 600px) {
    body {
        font-size: 14px;
    }

    .container {
        padding: 10px;
        margin: 10px;
    }

    .question-group label {
        font-size: 12px;
        margin-bottom: 5px;
    }

    select, textarea {
        font-size: 14px;
    }

    button {
        padding: 12px;
        font-size: 14px;
   /* Complaint List Styling */
#complaint-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

#complaint-list li {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 5px;
    border-bottom: 1px solid #dcdcdc;
}

#complaint-list li:last-child {
    border-bottom: none;
}

#complaint-list .complaint-text {
    flex: 1;
    text-align: left;
    color: #34495e;
    font-size: 16px;
}

#complaint-list .remove-button {
    background: none;
    border: none;
    color: #e74c3c;
    font-size: 14px;
    cursor: pointer;
    padding: 5px 10px;
    border-radius: 5px;
    transition: background-color 0.2s, color 0.2s;
}

#complaint-list .remove-button:hover {
    background-color: #f8d7da;
    color: #c0392b;
}

/* Container Styling */
#complaint-list-container {
    border: 1px solid #dcdcdc;
    border-radius: 10px;
    padding: 10px;
    background-color: #f9f9f9;
    max-height: 200px;
    overflow-y: auto;
}
.spinner {
    border: 4px solid #f3f3f3; /* Light grey */
    border-top: 4px solid #3498db; /* Blue */
    border-radius: 50%;
    width: 40px;
    height: 40px;
    animation: spin 1s linear infinite;
    margin: 0 auto; /* Centered */
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.loading-message {
    font-size: 16px;
    color: #2c3e50;
    margin-top: 10px;
}
    </style>
</head>
<body>
    <div class="container">
        <img src="hms-mirdif-hospital-logo.png" alt="Ø´Ø¹Ø§Ø± Ù…Ø³ØªØ´ÙÙ‰ Ù…ÙŠØ±Ø¯Ù" class="logo">
        <h1>Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ÙØ±Ø² Ø§Ù„Ø·Ø¨ÙŠ</h1>
        <form id="triage-form" onsubmit="handleSubmit(event)">
            <!-- Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ© -->
            <label for="name">Ø§Ø³Ù… Ø§Ù„Ù…Ø±ÙŠØ¶</label>
            <input type="text" id="name" name="name" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø±ÙŠØ¶" required>

            <label for="dob">ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯</label>
            <input type="date" id="dob" name="dob" required>

            <!-- Ø§Ù„Ø´ÙƒÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
            <label for="chief-complaint">Ø§Ù„Ø´ÙƒÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</label>
            <select id="chief-complaint" name="chiefComplaint">
                <option value="">Ø§Ø®ØªØ± Ø´ÙƒÙˆÙ‰</option>
                <option value="Ø¢Ù„Ø§Ù… Ø§Ù„Ø¸Ù‡Ø±">Ø¢Ù„Ø§Ù… Ø§Ù„Ø¸Ù‡Ø±</option>
                <option value="Ø¢Ù„Ø§Ù… Ø§Ù„Ø¬Ø³Ù… (Ø¥Ø±Ù‡Ø§Ù‚)">Ø¢Ù„Ø§Ù… Ø§Ù„Ø¬Ø³Ù… (Ø¥Ø±Ù‡Ø§Ù‚)</option>
                <option value="Ø¢Ù„Ø§Ù… Ø§Ù„ØµØ¯Ø± Ù…Ø¹ Ø§Ù„Ø³Ø¹Ø§Ù„">Ø¢Ù„Ø§Ù… Ø§Ù„ØµØ¯Ø± Ù…Ø¹ Ø§Ù„Ø³Ø¹Ø§Ù„</option>
                <option value="Ø¢Ù„Ø§Ù… Ø§Ù„ØµØ¯Ø± Ø¨Ø¯ÙˆÙ† Ø³Ø¹Ø§Ù„">Ø¢Ù„Ø§Ù… Ø§Ù„ØµØ¯Ø± Ø¨Ø¯ÙˆÙ† Ø³Ø¹Ø§Ù„</option>
                <option value="Ø§Ù„Ø³Ø¹Ø§Ù„ Ù…Ø¹ Ø§Ù„Ø¨Ù„ØºÙ…">Ø§Ù„Ø³Ø¹Ø§Ù„ Ù…Ø¹ Ø§Ù„Ø¨Ù„ØºÙ…</option>
                <option value="Ø§Ù„Ø¥Ø³Ù‡Ø§Ù„">Ø§Ù„Ø¥Ø³Ù‡Ø§Ù„</option>
                <option value="Ø§Ù„Ø³Ø¹Ø§Ù„ Ø§Ù„Ø¬Ø§Ù">Ø§Ù„Ø³Ø¹Ø§Ù„ Ø§Ù„Ø¬Ø§Ù</option>
                <option value="Ø¢Ù„Ø§Ù… Ø§Ù„Ø£Ø°Ù†">Ø¢Ù„Ø§Ù… Ø§Ù„Ø£Ø°Ù†</option>
                <option value="Ø¢Ù„Ø§Ù… Ø§Ù„Ø¹ÙŠÙ†">Ø¢Ù„Ø§Ù… Ø§Ù„Ø¹ÙŠÙ†</option>
                <option value="Ø§Ù„Ø­Ù…Ù‰">Ø§Ù„Ø­Ù…Ù‰</option>
                <option value="Ø§Ù„ØµØ¯Ø§Ø¹">Ø§Ù„ØµØ¯Ø§Ø¹</option>
                <option value="Ø§Ù„ØµØ¯Ø§Ø¹ Ø§Ù„Ù†ØµÙÙŠ">Ø§Ù„ØµØ¯Ø§Ø¹ Ø§Ù„Ù†ØµÙÙŠ</option>
                <option value="Ø²ÙŠØ§Ø¯Ø© Ø¶Ø±Ø¨Ø§Øª Ø§Ù„Ù‚Ù„Ø¨">Ø²ÙŠØ§Ø¯Ø© Ø¶Ø±Ø¨Ø§Øª Ø§Ù„Ù‚Ù„Ø¨</option>
                <option value="Ø­Ù‚Ù† Ø§Ù„Ø£Ø¯ÙˆÙŠØ© Ø§Ù„Ù…ÙˆØµÙˆÙØ©">Ø­Ù‚Ù† Ø§Ù„Ø£Ø¯ÙˆÙŠØ© Ø§Ù„Ù…ÙˆØµÙˆÙØ©</option>
                <option value="Ø¢Ù„Ø§Ù… Ø§Ù„Ø³Ø§Ù‚">Ø¢Ù„Ø§Ù… Ø§Ù„Ø³Ø§Ù‚</option>
                <option value="Ù†Ø²ÙŠÙ Ø§Ù„Ø£Ù†Ù (Ø±Ø¹Ø§Ù)">Ù†Ø²ÙŠÙ Ø§Ù„Ø£Ù†Ù (Ø±Ø¹Ø§Ù)</option>
                <option value="Ø§Ù„Ø­Ù…Ù„">Ø§Ù„Ø­Ù…Ù„</option>
                <option value="ÙˆØµÙ Ø£Ø¯ÙˆÙŠØ© Ø·ÙˆÙŠÙ„Ø© Ø§Ù„Ø£Ø¬Ù„">ÙˆØµÙ Ø£Ø¯ÙˆÙŠØ© Ø·ÙˆÙŠÙ„Ø© Ø§Ù„Ø£Ø¬Ù„</option>
                <option value="Ø³ÙŠÙ„Ø§Ù† Ø§Ù„Ø£Ù†Ù">Ø³ÙŠÙ„Ø§Ù† Ø§Ù„Ø£Ù†Ù</option>
                <option value="Ø§Ù„ØªÙ‡Ø§Ø¨ Ø§Ù„Ø­Ù„Ù‚">Ø§Ù„ØªÙ‡Ø§Ø¨ Ø§Ù„Ø­Ù„Ù‚</option>
                <option value="Ø¢Ù„Ø§Ù… Ø§Ù„Ù…Ø¹Ø¯Ø©">Ø¢Ù„Ø§Ù… Ø§Ù„Ù…Ø¹Ø¯Ø©</option>
                <option value="Ø§Ù„Ù‚ÙŠØ¡">Ø§Ù„Ù‚ÙŠØ¡</option>
                <option value="Ø¢Ù„Ø§Ù… Ø§Ù„Ù…Ø¹ØµÙ…">Ø¢Ù„Ø§Ù… Ø§Ù„Ù…Ø¹ØµÙ…</option>
                <option value="Ø¶ÙŠÙ‚ Ø§Ù„ØªÙ†ÙØ³">Ø¶ÙŠÙ‚ Ø§Ù„ØªÙ†ÙØ³</option>
            </select>

            <!-- ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø­Ù…Ù„ -->
            <div id="pregnancy-details" class="hidden">
                <label for="doctor-name">Ø§Ø³Ù… Ø§Ù„Ø·Ø¨ÙŠØ¨ (Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©):</label>
                <input type="text" id="doctor-name" name="doctorName" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ø·Ø¨ÙŠØ¨">
                <label for="weeks-pregnant">Ø¹Ø¯Ø¯ Ø£Ø³Ø§Ø¨ÙŠØ¹ Ø§Ù„Ø­Ù…Ù„:</label>
                <input type="number" id="weeks-pregnant" name="weeksPregnant" min="0" placeholder="Ø£Ø¯Ø®Ù„ Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø§Ø¨ÙŠØ¹">
            </div>
   <button type="button" onclick="addComplaint()">Ø¥Ø¶Ø§ÙØ© Ø´ÙƒÙˆÙ‰</button>
   <label for="complaint-list">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø´ÙƒØ§ÙˆÙ‰</label>
<div id="complaint-list-container" style="border: 1px solid #dcdcdc; border-radius: 5px; padding: 10px; max-height: 150px; overflow-y: auto;">
                <ul id="complaint-list" style="list-style: none; margin: 0; padding: 0;"></ul>
</div>
            <textarea id="complaint-notes" name="complaintNotes" placeholder="Ø£Ø¶Ù ØªÙØ§ØµÙŠÙ„ Ø¥Ø¶Ø§ÙÙŠØ© Ø­ÙˆÙ„ Ø§Ù„Ø´ÙƒØ§ÙˆÙ‰..."></textarea>

              <!-- ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø£Ù„Ù… -->
            <label for="pain-score">ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø£Ù„Ù…</label>
            <select id="pain-score" name="painScore">
                <option value="0">ğŸ˜Š Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø£Ù„Ù… (0)</option>
                <option value="1">ğŸ™‚ Ø£Ù„Ù… Ø®ÙÙŠÙ (1)</option>
                <option value="2">ğŸ™‚ Ø£Ù„Ù… Ø®ÙÙŠÙ (2)</option>
                <option value="3">ğŸ˜ Ø£Ù„Ù… Ù…ØªÙˆØ³Ø· (3)</option>
                <option value="4">ğŸ˜ Ø£Ù„Ù… Ù…ØªÙˆØ³Ø· (4)</option>
                <option value="5">ğŸ˜Ÿ Ø£Ù„Ù… Ø´Ø¯ÙŠØ¯ (5)</option>
                <option value="6">ğŸ˜Ÿ Ø£Ù„Ù… Ø´Ø¯ÙŠØ¯ (6)</option>
                <option value="7">ğŸ˜Ÿ Ø£Ù„Ù… Ø´Ø¯ÙŠØ¯ (7)</option>
                <option value="8">ğŸ˜­ Ø£Ù„Ù… Ø´Ø¯ÙŠØ¯ Ø¬Ø¯Ù‹Ø§ (8)</option>
                <option value="9">ğŸ˜­ Ø£Ù„Ù… Ø´Ø¯ÙŠØ¯ Ø¬Ø¯Ù‹Ø§ (9)</option>
                <option value="10">ğŸ˜± Ø£Ø³ÙˆØ£ Ø£Ù„Ù… Ù…Ù…ÙƒÙ† (10)</option>
            </select>

 <!-- Ø£Ø³Ø¦Ù„Ø© -->
         <div class="question-group">
    <label for="allergies">Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø³ÙŠØ© ØªØ¬Ø§Ù‡ Ø£ÙŠ Ø·Ø¹Ø§Ù… Ø£Ùˆ Ø¯ÙˆØ§Ø¡ØŸ (Ù…Ø«Ù„ Ø§Ù„ÙÙˆÙ„ Ø§Ù„Ø³ÙˆØ¯Ø§Ù†ÙŠØŒ Ø§Ù„Ø¨Ù†Ø³Ù„ÙŠÙ†)</label>
    <input type="radio" id="allergies-yes" name="allergies" value="Yes" onclick="toggleExplanation('allergies', 'allergies-explanation')">
    <label for="allergies-yes">Ù†Ø¹Ù…</label>
    <input type="radio" id="allergies-no" name="allergies" value="No" onclick="toggleExplanation('allergies', 'allergies-explanation')">
    <label for="allergies-no">Ù„Ø§</label>
         </div>
         <textarea id="allergies-explanation" class="hidden" placeholder="ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø´Ø±Ø­..." name="allergyExplanation"></textarea>

<div class="question-group">
    <label for="medicine">Ù‡Ù„ ØªÙ†Ø§ÙˆÙ„Øª Ø£ÙŠ Ø£Ø¯ÙˆÙŠØ© ÙÙŠ Ø§Ù„Ù…Ù†Ø²Ù„ØŸ (Ù…Ø«Ù„ Ø¨Ù†Ø§Ø¯ÙˆÙ„ØŒ Ø£Ø¯ÙˆÙ„)</label>
    <input type="radio" id="medicine-yes" name="medicine" value="Yes" onclick="toggleExplanation('medicine', 'medicine-explanation')">
    <label for="medicine-yes">Ù†Ø¹Ù…</label>
    <input type="radio" id="medicine-no" name="medicine" value="No" onclick="toggleExplanation('medicine', 'medicine-explanation')">
    <label for="medicine-no">Ù„Ø§</label>
</div>
<textarea id="medicine-explanation" class="hidden" placeholder="ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø£Ø¯ÙˆÙŠØ© Ø§Ù„ØªÙŠ ØªÙ… ØªÙ†Ø§ÙˆÙ„Ù‡Ø§..." name="medicineExplanation"></textarea>

<div class="question-group">
    <label for="chronic-condition">Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø£ÙŠ Ø­Ø§Ù„Ø§Øª Ø·Ø¨ÙŠØ© Ù…Ø²Ù…Ù†Ø©ØŸ (Ù…Ø«Ù„ Ø§Ù„Ø³ÙƒØ±ÙŠØŒ Ø§Ø±ØªÙØ§Ø¹ Ø¶ØºØ· Ø§Ù„Ø¯Ù…)</label>
    <input type="radio" id="chronic-condition-yes" name="chronicCondition" value="Yes" onclick="toggleExplanation('chronicCondition', 'chronic-condition-explanation')">
    <label for="chronic-condition-yes">Ù†Ø¹Ù…</label>
    <input type="radio" id="chronic-condition-no" name="chronicCondition" value="No" onclick="toggleExplanation('chronicCondition', 'chronic-condition-explanation')">
    <label for="chronic-condition-no">Ù„Ø§</label>
</div>
<textarea id="chronic-condition-explanation" class="hidden" placeholder="ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù…Ø²Ù…Ù†Ø©..." name="chronicConditionExplanation"></textarea>

<div class="question-group">
    <label for="surgery">Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø£ÙŠ ØªØ§Ø±ÙŠØ® Ù…Ø¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø¬Ø±Ø§Ø­ÙŠØ©ØŸ (Ù…Ø«Ù„ Ø§Ø³ØªØ¦ØµØ§Ù„ Ø§Ù„Ø²Ø§Ø¦Ø¯Ø© Ø§Ù„Ø¯ÙˆØ¯ÙŠØ©)</label>
    <input type="radio" id="surgery-yes" name="surgery" value="Yes" onclick="toggleExplanation('surgery', 'surgery-explanation')">
    <label for="surgery-yes">Ù†Ø¹Ù…</label>
    <input type="radio" id="surgery-no" name="surgery" value="No" onclick="toggleExplanation('surgery', 'surgery-explanation')">
    <label for="surgery-no">Ù„Ø§</label>
</div>
<textarea id="surgery-explanation" class="hidden" placeholder="ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø´Ø±Ø­..." name="surgeryExplanation"></textarea>

<div class="question-group">
    <label for="travel-history">Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø³Ø¬Ù„ Ø³ÙØ± Ø®Ù„Ø§Ù„ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ù…Ø§Ø¶ÙŠØŸ</label>
    <input type="radio" id="travel-history-yes" name="travelHistory" value="Yes" onclick="toggleExplanation('travelHistory', 'travel-explanation')">
    <label for="travel-history-yes">Ù†Ø¹Ù…</label>
    <input type="radio" id="travel-history-no" name="travelHistory" value="No" onclick="toggleExplanation('travelHistory', 'travel-explanation')">
    <label for="travel-history-no">Ù„Ø§</label>
</div>
<textarea id="travel-explanation" class="hidden" placeholder="ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø´Ø±Ø­..." name="travelHistoryExplanation"></textarea>
         

             <label for="notes">Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©</label>
        <textarea id="notes" name="additionalNotes" placeholder="Enter any additional information..."></textarea>

             <!-- Submit Button -->
    <button type="submit">Submit</button>
       
<!-- Loading spinner and message -->
    <div id="loading-container" style="display: none; text-align: center; margin-top: 15px;">
        <div id="loading-spinner" class="spinner"></div>
        <p id="loading-message" class="loading-message">Please wait, submitting your data...</p>
    </div>
</form>

<div id="submission-message" style="display: none; margin-top: 20px; text-align: center; background-color: lightgreen; padding: 20px; border-radius: 10px;">
    <h2 style="color: darkgreen;">ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­</h2>
    <p>Ø±Ù…Ø² Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù‡Ùˆ: 
        <span id="unique-code" style="background-color: white; color: black; padding: 5px 10px; border-radius: 5px; font-weight: bold;">
        </span>
    </p>
</div>

    <script>
       document.getElementById('chief-complaint').addEventListener('change', function () {
    const pregnancyDetails = document.getElementById('pregnancy-details');
    if (this.value === 'Ø§Ù„Ø­Ù…Ù„') {
        pregnancyDetails.classList.remove('hidden');
    } else {
        pregnancyDetails.classList.add('hidden');
        document.getElementById('doctor-name').value = '';
        document.getElementById('weeks-pregnant').value = '';
    }
});

  function toggleExplanation(group, explanationId) {
    const explanationBox = document.getElementById(explanationId);
    console.log(`Group: ${group}, Explanation ID: ${explanationId}`);
    const isYesSelected = document.querySelector(`input[name="${group}"]:checked`)?.value === 'Yes';
    console.log(`Is Yes Selected: ${isYesSelected}`);
    explanationBox.classList.toggle('hidden', !isYesSelected);
    if (!isYesSelected) {
        explanationBox.value = '';
    }
}

function addComplaint() {
    const complaintInput = document.getElementById('chief-complaint');
    const selectedComplaint = complaintInput.value;

         if (!selectedComplaint) {
        alert("Please select a complaint to add.");
        return;
    }
    const complaintList = document.getElementById('complaint-list');
    const existingComplaints = Array.from(complaintList.children);

    // Check for duplicates
    if (existingComplaints.some(item => item.querySelector('.complaint-text')?.textContent === selectedComplaint)) {
        alert("Ù‡Ø°Ù‡ Ø§Ù„Ø´ÙƒÙˆÙ‰ Ù…ÙˆØ¬ÙˆØ¯Ø© Ø¨Ø§Ù„ÙØ¹Ù„ ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©.");
 return;
    }

    let complaintText = selectedComplaint;

    // Append additional details for "Ø§Ù„Ø­Ù…Ù„"
    if (selectedComplaint === 'Ø§Ù„Ø­Ù…Ù„') {
        const doctorName = document.getElementById('doctor-name').value.trim();
        const weeksPregnant = document.getElementById('weeks-pregnant').value.trim();
        if (weeksPregnant) {
            complaintText += `, ${weeksPregnant} Ø£Ø³Ø§Ø¨ÙŠØ¹`;
        }
        if (doctorName) {
            complaintText += `, Ø¯. ${doctorName}`;
        }

        // Reset the pregnancy details inputs
        document.getElementById('doctor-name').value = '';
        document.getElementById('weeks-pregnant').value = '';
        document.getElementById('pregnancy-details').classList.add('hidden');
    }

    // Create the complaint list item
    const newComplaint = document.createElement('li');

    // Complaint text
    const complaintTextNode = document.createElement('span');
    complaintTextNode.className = 'complaint-text';
    complaintTextNode.textContent = complaintText;

    // Remove button
    const removeButton = document.createElement('button');
    removeButton.textContent = 'Ø¥Ø²Ø§Ù„Ø©';
    removeButton.className = 'remove-button';
    removeButton.onclick = () => {
        complaintList.removeChild(newComplaint);
    };

    // Add text and button to the list item
    newComplaint.className = 'complaint-item';
    newComplaint.appendChild(complaintTextNode);
    newComplaint.appendChild(removeButton);

    // Append the new item to the list
    complaintList.appendChild(newComplaint);

    // Clear the complaint input
    complaintInput.value = '';

    console.log("Complaint added!");
}
function removeComplaint() {
    const complaintList = document.getElementById('complaint-list');
    if (!complaintList.hasChildNodes()) {
        alert("Ù„Ø§ ØªÙˆØ¬Ø¯ Ø´ÙƒØ§ÙˆÙ‰ Ù„Ø¥Ø²Ø§Ù„ØªÙ‡Ø§."); // "No complaints to remove."
        return;
    }

    // Remove the last complaint from the list
    complaintList.lastChild.remove();
    alert("ØªÙ…Øª Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø´ÙƒÙˆÙ‰ Ø§Ù„Ø£Ø®ÙŠØ±Ø© Ø¨Ù†Ø¬Ø§Ø­."); // "Last complaint removed successfully."
}

function generateUniqueCode() {
    const randomPart = Math.floor(100000 + Math.random() * 900000); // Generate a 6-digit random number
    return `MPHT-${randomPart}`;
}
function handleSubmit(event) {
    event.preventDefault(); // Ù…Ù†Ø¹ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù„Ù„Ù†Ù…ÙˆØ°Ø¬

    // Ø¹Ù†Ø§ØµØ± Ø§Ù„ØªØ­Ù…ÙŠÙ„ØŒ Ø§Ù„Ø±Ø³Ø§Ù„Ø©ØŒ ÙˆØ²Ø± Ø§Ù„Ø¥Ø±Ø³Ø§Ù„
    const spinner = document.getElementById('loading-spinner');
    const loadingMessage = document.getElementById('loading-message');
    const submitButton = document.querySelector('button[type="submit"]');

    // Ø¹Ø±Ø¶ Ø§Ù„ØªØ­Ù…ÙŠÙ„ ÙˆØ§Ù„Ø±Ø³Ø§Ù„Ø©
    spinner.style.display = 'block';
    loadingMessage.style.display = 'block';
    submitButton.disabled = true;

    const uniqueCode = generateUniqueCode();

    // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø´ÙƒØ§ÙˆÙ‰ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
    const complaintItems = Array.from(document.getElementById('complaint-list').children);
    const complaints = complaintItems.map(item => item.querySelector('.complaint-text').textContent);

    const formData = {
        name: document.getElementById('name').value.trim(),
        dob: document.getElementById('dob').value,
        complaints: complaints,
        complaintNotes: document.getElementById('complaint-notes').value.trim(),
        painScore: document.getElementById('pain-score').value,
        allergies: document.querySelector('input[name="allergies"]:checked')?.value || 'Ù„Ø§',
        allergyExplanation: document.getElementById('allergies-explanation').value.trim(),
        medicine: document.querySelector('input[name="medicine"]:checked')?.value || 'Ù„Ø§',
        medicineExplanation: document.getElementById('medicine-explanation').value.trim(),
        chronicCondition: document.querySelector('input[name="chronicCondition"]:checked')?.value || 'Ù„Ø§',
        chronicConditionExplanation: document.getElementById('chronic-condition-explanation').value.trim(),
        surgery: document.querySelector('input[name="surgery"]:checked')?.value || 'Ù„Ø§',
        surgeryExplanation: document.getElementById('surgery-explanation').value.trim(),
        travelHistory: document.querySelector('input[name="travelHistory"]:checked')?.value || 'Ù„Ø§',
        travelHistoryExplanation: document.getElementById('travel-explanation').value.trim(),
        notes: document.getElementById('notes').value.trim(),
        code: uniqueCode,
    };

    console.log("Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¥Ø±Ø³Ø§Ù„:", formData);

    // Ø¥Ø±Ø³Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
    fetch('https://patient-traige-form.glitch.me/submit', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(formData),
    })
        .then((response) => {
            if (response.ok) return response.json();
            throw new Error('ÙØ´Ù„ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬');
        })
        .then((data) => {
            console.log("Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø®Ø§Ø¯Ù…:", data);

            // Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„ÙØ±ÙŠØ¯ ÙˆØ±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­
            const uniqueCodeElement = document.getElementById('unique-code');
            uniqueCodeElement.textContent = uniqueCode;

            document.getElementById('triage-form').style.display = 'none';
            document.getElementById('submission-message').style.display = 'block';

            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
            document.getElementById('triage-form').reset();
            document.getElementById('complaint-list').innerHTML = '';
        })
        .catch((error) => {
            console.error('Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬:', error);
            alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ù„Ø§Ø­Ù‚Ù‹Ø§.');
        })
        .finally(() => {
            // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØªØ­Ù…ÙŠÙ„ ÙˆØ¥Ø¹Ø§Ø¯Ø© ØªÙ…ÙƒÙŠÙ† Ø²Ø± Ø§Ù„Ø¥Ø±Ø³Ø§Ù„
            spinner.style.display = 'none';
            loadingMessage.style.display = 'none';
            submitButton.disabled = false;
        });
}
    </script>
</body>
</html>
